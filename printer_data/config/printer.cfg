[include K-ShakeTune/*.cfg]
[include AFC/*.cfg]
[include macros.cfg]
[include status.cfg]
[include display.cfg]
[pause_resume]
[display_status]
[respond]
[exclude_object]
[virtual_sdcard]


path: /home/Trident/printer_data/gcodes/
on_error_gcode: CANCEL_PRINT

# This file contains common pin mappings for the BigTreeTech Kraken.
# To use this config, the firmware should be compiled for the STM32H723Z6 with a "128KiB bootloader"
# Enable "extra low-level configuration options" and select the "25MHz crystal" as clock reference

# after running "make", copy the generated "klipper/out/klipper.bin" file to a
# file named "firmware.bin" on an SD card and then restart the Kraken with that SD card.

# See docs/Config_Reference.md for a description of parameters.

## Voron Design VORON Trident 250/300/350mm BigTreeTech Kraken

## *** THINGS TO CHANGE/CHECK: ***
## MCU paths                            [mcu] section
## Thermistor types                     [extruder] and [heater_bed] sections - See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types
## Hotend heater pin                    [extruder] section
## Leadscrew Rotation Distance          [stepper_z], [stepper_z1], [stepper_z2]
## Z Endstop Switch location            [safe_z_home] section
## Z Endstop Switch  offset for Z0      [stepper_z] section
## Stepper Z1 enable pin                [stepper_z1] section
## PID tune                             [extruder] and [heater_bed] sections
## Probe pin                            [probe] section
## Fine tune E steps                    [extruder] section

#-------------------------#
#   START_PRINT SEQUENCE  #
#-------------------------#

## The START_PRINT sequence is modular and fully customizable. A default START_PRINT sequence is auto-populated based on
## your probe choice (TAP, Dockable, Inductive), but if for some reasons you still want to modify it, please uncomment the following 3
## lines to define a new `variable_startprint_actions`. You can use any number of action or even duplicate some actions if needed.
## Available actions: "bed_soak", "extruder_preheating", "chamber_soak", "extruder_heating", "tilt_calib", "z_offset", "bedmesh", "purge", "clean", "primeline"
##
[gcode_macro _USER_VARIABLES]
variable_startprint_actions: "extruder_preheating", "bed_soak", "tilt_calib", "bedmesh", "custom1", "extruder_heating", "primeline"
gcode: # do not remove this line

[mcu]
##  Obtain definition by "ls -l /dev/serial/by-id/" then unplug to verify
##--------------------------------------------------------------------
canbus_uuid: bec70ad5756c
# restart_method: command
##--------------------------------------------------------------------

# This file contains common pin mappings for the BIGTREETECH EBBCan
# Canbus board. To use this config, the firmware should be compiled for the
# STM32G0B1 with "8 MHz crystal" and "USB (on PA11/PA12)" or "CAN bus (on PB0/PB1)".
# The "EBB Can" micro-controller will be used to control the components on the nozzle.

# See docs/Config_Reference.md for a description of parameters.

[mcu EBBCan]
# serial: /dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00
canbus_uuid: c5ee12715040

#####################################################################
#   TMC Autotune
#####################################################################

# [autotune_tmc stepper_x]
# motor: moons-ms17hdbp4200
# tuning_goal: silent
# voltage: 48

# [autotune_tmc stepper_y]
# motor: moons-ms17hdbp4200
# tuning_goal: silent
# voltage: 48

# [autotune_tmc stepper_z]
# motor: ldo-42sth40-1684l300e
# tuning_goal: silent
# voltage: 48

# [autotune_tmc stepper_z1]
# motor: ldo-42sth40-1684l300e
# tuning_goal: silent
# voltage: 48

# [autotune_tmc stepper_z2]
# motor: ldo-42sth40-1684l300e
# tuning_goal: silent
# voltage: 48

# [autotune_tmc extruder]
# motor: ldo-36sth20-1004ahg
# tuning_goal: silent
# voltage: 24

[shaketune]
# result_folder: ~/printer_data/config/ShakeTune_results
#    The folder where the results will be stored. It will be created if it doesn't exist.
# number_of_results_to_keep: 3
#    The number of results to keep in the result_folder. The oldest results will
#    be automatically deleted after each runs.
# keep_raw_csv: False
#    If True, the raw CSV files will be kept in the result_folder alongside the
#    PNG graphs. If False, they will be deleted and only the graphs will be kept.
# show_macros_in_webui: True
#    Mainsail and Fluidd doesn't create buttons for "system" macros that are not in the
#    printer.cfg file. If you want to see the macros in the webui, set this to True.
# timeout: 300
#    The maximum time in seconds to let Shake&Tune process the CSV files and generate the graphs.


#####################################################################
#   Kinematics
#####################################################################
[force_move]
enable_force_move = True

[printer]
kinematics: corexy
max_velocity: 600  
max_accel: 9500             #Max 4000
max_z_velocity: 60          #Max 15 for 12V TMC Drivers, can increase for 24V
max_z_accel: 350
square_corner_velocity: 5.0

[input_shaper]
shaper_freq_x = 99
shaper_type_x = ei
shaper_freq_y = 57
shaper_type_y = mzv

[homing_override]
axes = xyz
gcode = 
	{% set home_all = 'X' not in params and 'Y' not in params and 'Z' not in params %}
	
	SET_KINEMATIC_POSITION Z=1
	G1 Z4 F1200
	
	{% if home_all or 'X' in params %}
	_HOME_X
	{% endif %}
	
	{% if home_all or 'Y' in params %}
	_HOME_Y
	{% endif %}
	
	{% if home_all or 'Z' in params %}
	
	G90
	G1 X150 Y150 F15000
	
	G28 Z
	
	G1 Z10 F1500
	{% endif %}

#####################################################################
#   X/Y Stepper Settings
#####################################################################

##  B Stepper - Left
##  Connected to Motor_1-S1
##  Endstop connected to MIN1
[stepper_x]
step_pin: PC14
dir_pin: !PC13
enable_pin: !PE6
rotation_distance: 40
microsteps: 64
full_steps_per_rotation:200  #set to 400 for 0.9 degree stepper
endstop_pin: tmc5160_stepper_x:virtual_endstop
# endstop_pin: ^EBBCan:PB5
position_min: 0
##--------------------------------------------------------------------

##  Uncomment below for 250mm build
#position_endstop: 250
#position_max: 250

#  Uncomment for 300mm build
position_endstop: 300
position_max: 300

##  Uncomment for 350mm build
#position_endstop: 350
#position_max: 350

##--------------------------------------------------------------------
homing_speed: 100   #Max 100
homing_retract_dist: 15
homing_positive_dir: true

##  TMC2160 configuration
[tmc5160 stepper_x]
cs_pin: PD6
interpolate: true
spi_software_miso_pin: PC7
spi_software_mosi_pin: PC8
spi_software_sclk_pin: PC6
sense_resistor: 0.022
run_current: 1.2
stealthchop_threshold: 0
##  sensorless homing, plug in jumper on M2-DIAG
diag1_pin: ^!PC15


##  A Stepper - Right
##  Connected to Motor_2-S2
##  Endstop connected to MIN2
driver_SGT: 1

[stepper_y]
step_pin: PE5
dir_pin: !PE4
enable_pin: !PE3
rotation_distance: 40
microsteps: 64
full_steps_per_rotation:200  #set to 400 for 0.9 degree stepper
endstop_pin: tmc5160_stepper_y:virtual_endstop
# endstop_pin: PF0
position_min: -25
##--------------------------------------------------------------------

##  Uncomment for 250mm build
#position_endstop: 250
#position_max: 250

#  Uncomment for 300mm build
position_endstop: 300
position_max: 300

##  Uncomment for 350mm build
#position_endstop: 350
#position_max: 350

##--------------------------------------------------------------------
homing_speed: 100 #Max 100
homing_retract_dist: 15
homing_positive_dir: true

##  TMC2160 configuration
[tmc5160 stepper_y]
cs_pin: PD5
interpolate: true
spi_software_miso_pin: PC7
spi_software_mosi_pin: PC8
spi_software_sclk_pin: PC6
sense_resistor: 0.022
run_current: 1.2
stealthchop_threshold: 0
##  sensorless homing, plug in jumper on M2-DIAG
diag1_pin: ^!PF0
driver_SGT: 1
 
#####################################################################
#   Z Stepper Settings
#####################################################################

## Z0 Stepper - Front Left
##  Connected to Motor_5-S5
##  Endstop connected to MIN3
[stepper_z]
step_pin: PG9
dir_pin: PG10
enable_pin: !PG13
# Rotation Distance for TR8x8 = 8, TR8x4 = 4, TR8x2 = 2
rotation_distance: 4    
microsteps: 32
endstop_pin: probe:z_virtual_endstop # use cartographer as virtual endstop
##  Z-position of nozzle (in mm) to z-endstop trigger point relative to print surface (Z0)
##  (+) value = endstop above Z0, (-) value = endstop below
##  Increasing position_endstop brings nozzle closer to the bed
##  After you run Z_ENDSTOP_CALIBRATE, position_endstop will be stored at the very end of your config
# position_endstop: 0
## All builds use same Max Z
position_max: 250
position_min: -5
homing_speed: 10 # Leadscrews are slower than 2.4, 10 is a recommended max.
second_homing_speed: 3
homing_retract_dist: 0

##  TMC2160 configuration
[tmc5160 stepper_z]
cs_pin: PD2
interpolate: true
spi_software_miso_pin: PC7
spi_software_mosi_pin: PC8
spi_software_sclk_pin: PC6
sense_resistor: 0.075
run_current: 0.6
stealthchop_threshold: 0

##  Z1 Stepper - Rear Center
##  Connected to Motor_6-S6
[stepper_z1]
step_pin: PG11
dir_pin: PD7
enable_pin: !PG12
# Rotation Distance for TR8x8 = 8, TR8x4 = 4, TR8x2 = 2
rotation_distance: 4  
microsteps: 32

##  TMC2160 configuration
[tmc5160 stepper_z1]
cs_pin: PA15
interpolate: true
spi_software_miso_pin: PC7
spi_software_mosi_pin: PC8
spi_software_sclk_pin: PC6
sense_resistor: 0.075
run_current: 0.6
stealthchop_threshold: 0

##  Z2 Stepper - Front Right
##  Connected to Motor_7-S7
[stepper_z2]
step_pin: PB4
dir_pin: PB3
enable_pin: !PB5
# Rotation Distance for TR8x8 = 8, TR8x4 = 4, TR8x2 = 2
rotation_distance: 4  
microsteps: 32

##  TMC2160 configuration
[tmc5160 stepper_z2]
cs_pin: PA9
interpolate: true
spi_software_miso_pin: PC7
spi_software_mosi_pin: PC8
spi_software_sclk_pin: PC6
sense_resistor: 0.075
run_current: 0.6
stealthchop_threshold: 0


# #####################################################################
# #   Extruder
# #####################################################################

# ##  Connected to MOTOR_3-S3
# ##  Heater - HE0
# ##  Thermistor - TH0
# [extruder]
# step_pin: PE2
# dir_pin: PE1
# enable_pin: !PE0
# ##  Update value below when you perform extruder calibration
# ##  If you ask for 100mm of filament, but in reality it is 98mm:
# ##  rotation_distance = <previous_rotation_distance> * <actual_extrude_distance> / 100
# ##  22.6789511 is a good starting point
# rotation_distance: 22.6789511   #Bondtech 5mm Drive Gears
# ##  Update Gear Ratio depending on your Extruder Type
# ##  Use 50:10 for Stealthburner/Clockwork 2
# ##  Use 50:17 for Afterburner/Clockwork (BMG Gear Ratio)
# ##  Use 80:20 for M4, M3.1
# gear_ratio: 50:10
# microsteps: 32
# full_steps_per_rotation: 200    #200 for 1.8 degree, 400 for 0.9 degree
# nozzle_diameter: 0.400
# filament_diameter: 1.75
# heater_pin: PF6
# ## Check what thermistor type you have. See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types.
# ## Use "Generic 3950" for NTC 100k 3950 thermistors
# #sensor_type:
# sensor_pin: PB1
# min_temp: 10
# max_temp: 270
# max_power: 1.0
# min_extrude_temp: 170
# control = pid
# pid_kp = 26.213
# pid_ki = 1.304
# pid_kd = 131.721
# ##  Try to keep pressure_advance below 1.0
# #pressure_advance: 0.05
# ##  Default is 0.040, leave stock
# #pressure_advance_smooth_time: 0.040

# ##  E0 on MOTOR_3-S3
# ##  TMC2160 configuration
# [tmc5160 extruder]
# cs_pin: PD4
# interpolate: false
# spi_software_miso_pin: PC7
# spi_software_mosi_pin: PC8
# spi_software_sclk_pin: PC6
# sense_resistor: 0.022
# run_current: 0.500
# stealthchop_threshold: 0


#####################################################################
#   Bed Heater
#####################################################################

##  SSR Pin - HE1
##  Thermistor - THB
[heater_bed]
##  Uncomment the following line if using the default SSR wiring from the docs site
heater_pin: PF6
##  Other wiring guides may use BED_OUT to control the SSR. Uncomment the following line for those cases
#heater_pin: PF5
## Check what thermistor type you have. See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types.
## Use "Generic 3950" for Keenovo heaters
sensor_type: Generic 3950
sensor_pin: PB0
##  Adjust max_power so it doesn't exceed the SSR rating. The Omron G3NA-210B-DC5 SSR is rated at 4 amps without a heatsink.
##  The formula is "4 / (Wattage_of_bed_heater / Mains_voltage) = max_power"
##  If max_power is greater than 1.0, use 1.0
max_power: 1.0
min_temp: 0
max_temp: 120
#control: pid
#pid_kp: 58.437
#pid_ki: 2.347
#pid_kd: 363.769

#####################################################################
#   Probe canbus_uuid: 90853ee1cac7
#####################################################################
[mcu scanner]
canbus_uuid: 90853ee1cac7

[scanner]
mcu: scanner            
#   Offsets are measured from the centre of your coil, to the tip of your nozzle 
#   on a level axis. It is vital that this is accurate. 
x_offset: 0                          
#    adjust for your cartographers offset from nozzle to middle of coil
y_offset: 15                         
#    adjust for your cartographers offset from nozzle to middle of coil
backlash_comp: 0.00542 
#   Backlash compensation distance for removing Z backlash before measuring
#   the sensor response.
sensor: cartographer
#    this must be set as cartographer unless using IDM etc.
sensor_alt: carto
#    alternate name to call commands. CARTO_TOUCH etc      
mesh_runs: 2
#    Number of passes to make during mesh scan.

[bed_mesh]
zero_reference_position: 150, 150    
#    set this to the middle of your bed
speed: 200
#    movement speed of toolhead during bed mesh
horizontal_move_z: 5
#    height of scanner during bed mesh scan
mesh_min: 20, 25
#    start point of bed mesh [X, Y]
mesh_max: 256, 265
#    end point of bed mesh [X, Y]
probe_count: 30, 30
algorithm: bicubic

[temperature_sensor Cartographer_MCU]
sensor_type: temperature_mcu
sensor_mcu: scanner
min_temp: 0
max_temp: 105


#####################################################################
#   Fan Control & Temperature
#####################################################################

##  Print Cooling Fan - FAN0
[fan]
pin: PA0
kick_start_time: 0.5
##  Depending on your fan, you may need to increase this value
##  if your fan will not start. Can change cycle_time (increase)
##  if your fan is not able to slow down effectively
off_below: 0.10


##  Hotend Fan - FAN1
[heater_fan hotend_fan]
pin: PA1
max_power: 1.0
kick_start_time: 0.5
heater: extruder
heater_temp: 50.0
##  If you are experiencing back flow, you can reduce fan_speed
#fan_speed: 1.0

##  Controller fan - FAN2
[controller_fan controller_fan]
pin: PA0
kick_start_time: 0.5
stepper: stepper_x

##  Exhaust fan - FAN3
#[heater_fan exhaust_fan]
#pin: PA.
#max_power: 1.0
#shutdown_speed: 0.0
#kick_start_time: 5.0
#heater: heater_bed
#heater_temp: 60
#fan_speed: 1.0

[temperature_fan rpi_fan]
pin = PA1
kick_start_time = 1.0
max_speed = 0.9
target_temp = 50
min_temp = 10
max_temp = 95
control = watermark
sensor_type = temperature_host

[temperature_sensor RPi]
sensor_type: temperature_host
min_temp: 10
max_temp: 70

[temperature_sensor mcu]
sensor_type: temperature_mcu
min_temp: 10
max_temp: 70

[fan_generic filter]
pin = PA2
max_power = 1.0
kick_start_time = 0.250
off_below = 0.30

[gcode_macro _USER_VARIABLES]
variable_filter_enabled: True
variable_filter_name: "filter"
gcode:

[temperature_sensor Chamber]
sensor_type = ATC Semitec 104GT-2
sensor_pin = PB1

#####################################################################
#   LED Control
#####################################################################

## Chamber Lighting - HE2 Connector (Optional)
#[output_pin caselight]
#pin: PF9
#pwm:true
#shutdown_value: 0
#value:1
#cycle_time: 0.01

# [neopixel displayStatus]
# pin: EXP1_6
# chain_count: 1
# initial_RED: 0.09
# initial_GREEN: 1.0
# initial_BLUE: 0.17

# [neopixel toolhead]
# pin: EBBCan:PD3
# chain_count: 3
# color_order: GRBW

[neopixel caselight]
pin: PF11
#   The pin connected to the neopixel. This parameter must be
#   provided.
chain_count: 18
#   The number of Neopixel chips that are "daisy chained" to the
#   provided pin. The default is 1 (which indicates only a single
#   Neopixel is connected to the pin).
color_order: GRBW
#   Set the pixel order required by the LED hardware (using a string
#   containing the letters R, G, B, W with W optional). Alternatively,
#   this may be a comma separated list of pixel orders - one for each
#   LED in the chain. The default is GRB.
initial_RED: 1.0
initial_GREEN: 1.0
initial_BLUE: 1.0
initial_WHITE: 1.0
#   See the "led" section for information on these parameters.

# [led_effect heater_status_extruder]
# autostart:  true
# frame_rate: 1
# heater:     extruder
# leds: 
#    neopixel:status_leds
# layers:
#    heater(minTemp=40,disableOnceReached=0,heater=extruder) top (1, 0, 0, 0) #extruder over 40C
#    static 6 1 top (0.09, 1.0, 0.17, 0)

# #LED Effect to light up the display LED red when any heater is above 40C
# [led_effect heater_status_bed]
# autostart:  true
# frame_rate: 1
# heater:     heater_bed
# leds:
#    neopixel:btt_mini12864
# layers:
#    heater(minTemp=40,disableOnceReached=0,heater=heater_bed) top (1, 0, 0) #heated bed over 40C
#    static 6 1 top (0.09, 1.0, 0.17)

# [led_effect lighting_tool]
# autostart: false
# frame_rate: 1
# leds:
#    neopixel:status_leds
# layers:
#    static 1 0 top (0, 0, 0, 1)
   
# [led_effect lighting_case]
# autostart: false
# frame_rate: 1
# leds:
#    neopixel:caselight
# layers:
#    static 1 0 top (0.753, 1.0, 0.431)  

# #Aurora LED effect
# [led_effect aurora]
# autostart:  false
# frame_rate: 16
# leds:
#    neopixel:caselight
# layers:
#    gradient 0.15 0.5 top  $bb00e2, $00e2e2, $00e202 #(1.00, 0, 0), (0, 1.00, 0), (0, 0, 1.00)    #$bb00e2, $00e2e2, $00e202

# #Breathing Cthulu LED effect
# [led_effect cthulu]
# autostart:  true
# frame_rate: 16
# leds:
#     neopixel:caselight
# layers:
#     breathing  6 1 top (0.185, 1.0, 0.185)   

#Macro buttons for LED related commands
[gcode_macro LIGHTS_ON]
gcode:
   SET_LED_EFFECT EFFECT=lighting_tool
   SET_LED_EFFECT EFFECT=lighting_case REPLACE=1
   SET_LED_EFFECT EFFECT=heater_status_extruder
   SET_LED_EFFECT EFFECT=heater_status_bed

[gcode_macro LIGHTS_OFF]
gcode:
   STOP_LED_EFFECTS
   SET_LED_EFFECT EFFECT=heater_status_extruder
   SET_LED_EFFECT EFFECT=heater_status_bed

[gcode_macro TOOL_LIGHT_ON]
gcode:
   SET_LED_EFFECT EFFECT=lighting_tool

[gcode_macro TOOL_LIGHT_OFF]
gcode:
   SET_LED_EFFECT EFFECT=lighting_tool STOP=1  

[gcode_macro AURORA]
gcode:
   SET_LED_EFFECT EFFECT=aurora REPLACE=1 FADETIME=1.0
   SET_LED_EFFECT EFFECT=heater_status_extruder
   SET_LED_EFFECT EFFECT=heater_status_bed

[gcode_macro CTHULU]
gcode:
   SET_LED_EFFECT EFFECT=cthulu REPLACE=1 FADETIME=1.0
   SET_LED_EFFECT EFFECT=heater_status_extruder
   SET_LED_EFFECT EFFECT=heater_status_bed

#start_gcode module to turn the lights on
[gcode_macro _MODULE_CUSTOM2]
gcode:
   LIGHTS_ON


#####################################################################
# 	LED Control
#####################################################################

[neopixel status_leds]
pin = EBBCan:PD3
chain_count = 3
color_order = GRBW
initial_red = 1
initial_green = 0.24
initial_blue = 0

# Neopixel leds used on the toolhead (stealthburner style)

[gcode_macro _USER_VARIABLES]
variable_status_leds_enabled: True
variable_status_leds_effects_enabled: False
variable_status_leds_logo_led_name: "status_leds"
variable_status_leds_logo_idx: '1'
variable_status_leds_nozzle_led_name: "status_leds"
variable_status_leds_nozzle_idx: '2,3'
gcode:

# Also include directly the leds control macros from here
# [include macros/hardware_functions/status_leds.cfg]
# [include config_colors.cfg]

#####################################################################
#   Homing and Gantry Adjustment Routines
#####################################################################

[idle_timeout]
timeout: 1800

# [safe_z_home]
# ##  XY Location of the Z Endstop Switch
# ##  Update -10,-10 to the XY coordinates of your endstop pin 
# ##  (such as 157,305) after going through Z Endstop Pin
# ##  Location Definition step.
# home_xy_position:-10,-10
# speed:100
# z_hop:10

[z_tilt]
##  Use Z_TILT_ADJUST to level the bed .
##  z_positions: Location of toolhead

##--------------------------------------------------------------------
## Uncomment below for 250mm build
#z_positions:
#    -50, 18
#    125, 298
#    300, 18
#points:
#    30, 5
#    125, 195
#    220, 5

# Uncomment below for 300mm build
z_positions:
  -50, 18
  150, 348
  350, 18
points:
  30, 5
  150, 245
  270, 5

## Uncomment below for 350mm build
#z_positions:
#   -50, 18
#   175, 398
#   400, 18
#points:
#   30, 5
#   175, 295
#   320, 5


##--------------------------------------------------------------------

speed: 200
horizontal_move_z: 10
retries: 5
retry_tolerance: 0.0075

########################################
# EXP1 / EXP2 (display) pins
########################################

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PG5, EXP1_2=PG4,
    EXP1_3=PG3, EXP1_4=PG2,
    EXP1_5=PD15, EXP1_6=PD14,
    EXP1_7=PD13, EXP1_8=PD12,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PE13, EXP2_2=PE12,
    EXP2_3=PG8, EXP2_4=PE11,
    EXP2_5=PG7, EXP2_6=PE14,
    EXP2_7=PG6, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=<NC>

#####################################################################
#   Displays
#####################################################################

##  Uncomment the display that you have
#--------------------------------------------------------------------

#[display]
##  RepRapDiscount 128x64 Full Graphic Smart Controller
#lcd_type: st7920
#cs_pin: EXP1_4
#sclk_pin: EXP1_5
#sid_pin: EXP1_3
#menu_timeout: 40
#encoder_pins: ^EXP2_5, ^EXP2_3
#click_pin: ^!EXP1_2

#[output_pin beeper]
#pin: EXP1_1

#--------------------------------------------------------------------

[display]
#  mini12864 LCD Display
lcd_type: uc1701
cs_pin: EXP1_3
a0_pin: EXP1_4
rst_pin: EXP1_5
encoder_pins: ^EXP2_5, ^EXP2_3
click_pin: ^!EXP1_2
contrast: 63
spi_software_miso_pin: EXP2_1
spi_software_mosi_pin: EXP2_6
spi_software_sclk_pin: EXP2_2

[neopixel btt_mini12864]
#  To control Neopixel RGB in mini12864 display
pin: EXP1_6
chain_count: 3
initial_RED: 0
initial_GREEN: 0
initial_BLUE: 1
color_order: RGB

#  Set RGB values on boot up for each Neopixel. 
#  Index 1 = display, Index 2 and 3 = Knob
[delayed_gcode setdisplayneopixel]
initial_duration: 1
gcode:
       SET_LED LED=btt_mini12864 RED=1 GREEN=1 BLUE=1 INDEX=1 TRANSMIT=0
       SET_LED LED=btt_mini12864 RED=1 GREEN=1 BLUE=1 INDEX=2 TRANSMIT=0
       SET_LED LED=btt_mini12864 RED=0 GREEN=0 BLUE=1 INDEX=3 

#--------------------------------------------------------------------
#####################################################################
#   Toolhead
#####################################################################



[temperature_sensor EBB_NTC]
sensor_type: Generic 3950
sensor_pin: EBBCan: PA2

[adxl345]
cs_pin: EBBCan: PB12
spi_software_sclk_pin: EBBCan: PB10
spi_software_mosi_pin: EBBCan: PB11
spi_software_miso_pin: EBBCan: PB2
axes_map: z,-y,x

[resonance_tester]
probe_points: 100, 100, 20
accel_chip: adxl345

[extruder]
step_pin: EBBCan: PD0
dir_pin: EBBCan: PD1
enable_pin: !EBBCan: PD2
microsteps: 32
rotation_distance: 47.088
nozzle_diameter: 0.400
gear_ratio: 9:1
full_steps_per_rotation: 200
filament_diameter: 1.750
heater_pin: EBBCan: PB13
sensor_type: EPCOS 100K B57560G104F
sensor_pin: EBBCan: PA3
control: pid
pid_Kp: 21.527
pid_Ki: 1.063
pid_Kd: 108.982
min_temp: -250
max_temp: 350
max_extrude_only_distance: 110
max_extrude_cross_section: 5

# sensor_type:MAX31865
# sensor_pin: EBBCan: PA4
# spi_bus: spi1
# rtd_nominal_r: 100
# rtd_reference_r: 430
# rtd_num_of_wires: 2

# [tmc2209 extruder]
# uart_pin: EBBCan: PA15
# run_current: 0.650
# stealthchop_threshold: 999999

[tmc2209 extruder]
uart_pin: EBBCan: PA15
run_current: 0.650
stealthchop_threshold: 999999

# [tmc2240 extruder]
# cs_pin: EBBCan: PA15
# spi_software_sclk_pin: EBBCan: PB10
# spi_software_mosi_pin: EBBCan: PB11
# spi_software_miso_pin: EBBCan: PB2
# driver_TPFD: 0
# run_current: 0.65
# stealthchop_threshold: 0

[fan]
pin: EBBCan: PA1

[heater_fan hotend_fan]
pin: EBBCan: PA0
heater: extruder
heater_temp: 50.0

#[heater_fan 4W_FAN0]
#pin: EBBCan: PB14
#tachometer_pin: EBBCan: PB15
#tachometer_ppr: 1

#[neopixel hotend_rgb]
#pin: EBBCan:PD3

#[bltouch]
#sensor_pin: ^EBBCan: PB8
#control_pin: EBBCan: PB9

## NPN and PNP proximity switch types can be set by jumper
#[probe]
#pin: ^EBBCan: PC13

#[output_pin PB5]
#pin: EBBCan: PB5

#[output_pin PB7]
#pin: EBBCan: PB7

#[output_pin PB6]
#pin: EBBCan: PB6

#####################################################################
#   Macros
#####################################################################

[gcode_macro PRINT_START]
#   Use PRINT_START for the slicer starting script - PLEASE CUSTOMISE THE SCRIPT
gcode:
    M117 Homing...                 ; display message
    G28
    Z_TILT_ADJUST
    G28

    ##  Uncomment for for your size printer:
    #--------------------------------------------------------------------
    ##  Uncomment for 250mm build
    #G0 X125 Y125 Z30 F3600

    ##  Uncomment for 300 build
    #G0 X150 Y150 Z30 F3600

    ##  Uncomment for 350mm build
    #G0 X175 Y175 Z30 F3600
    #--------------------------------------------------------------------

   

[gcode_macro PRINT_END]
#   Use PRINT_END for the slicer ending script - please customise for your slicer of choice
gcode:
    # safe anti-stringing move coords
    {% set th = printer.toolhead %}
    {% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
    {% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
    {% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
    
    SAVE_GCODE_STATE NAME=STATE_PRINT_END

    M400                           ; wait for buffer to clear
    G92 E0                         ; zero the extruder
    G1 E-2.0 F3600                 ; retract filament
    
    TURN_OFF_HEATERS
    
    G90                                      ; absolute positioning
    G0 X{x_safe} Y{y_safe} Z{z_safe} F20000  ; move nozzle to remove stringing
    G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600  ; park nozzle at rear
    M107                                     ; turn off fan
    
    BED_MESH_CLEAR

    # The purpose of the SAVE_GCODE_STATE/RESTORE_GCODE_STATE
    # command pair is to restore the printer's coordinate system
    # and speed settings since the commands above change them.
    # However, to prevent any accidental, unintentional toolhead
    # moves when restoring the state, explicitly set MOVE=0.
    RESTORE_GCODE_STATE NAME=STATE_PRINT_END MOVE=0

# [gcode_macro PROBE_CALIBRATE]
# gcode:
#     CARTOGRAPHER_CALIBRATE

    # Quand gantry leveling definition
# If this files is included, then it also activate the QGL
# automatically in the START_PRINT macro
[gcode_macro _USER_VARIABLES]
variable_ztilt_enabled: True
gcode:

# Also include directly the dockable probe overide of qgl from here
[include macros/base/probing/overrides/z_tilt.cfg]
[include macros/base/homing/tilting.cfg]


[z_tilt]
z_positions:
    -50, 18
    150, 348
    350, 18
points:
    30, 5
    150, 245
    270, 5
speed: 350
horizontal_move_z: 12
retries: 5
retry_tolerance: 0.0075

[gcode_macro DATA_SAMPLE]
gcode:
  {% set bed_temp = params.BED_TEMP|default(90)|int %}
  {% set nozzle_temp = params.NOZZLE_TEMP|default(250)|int %}
  {% set min_temp = params.MIN_TEMP|default(40)|int %}
  {% set max_temp = params.MAX_TEMP|default(70)|int %}
  G90
  M106 S255
  RESPOND TYPE=command MSG='Waiting for Coil to cool to 40'
  M117 Waiting for Coil to cool to 40
  TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM={min_temp}
  RESPOND TYPE=command MSG='Starting Phase 1 of 4'
  M117 Starting Phase 1 of 4
  M106 S0
  G28
  G0 Z1
  M104 S{nozzle_temp}
  M140 S{bed_temp}
  G4 P1000
  TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM={min_temp}
  CARTOGRAPHER_STREAM FILENAME=data1
  M117 Waiting for Coil to heat to 70
  RESPOND TYPE=command MSG='Waiting for Coil to heat to 70'
  TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM={max_temp}
  CARTOGRAPHER_STREAM FILENAME=data1
  M104 S0
  M140 S0
  M106 S255
  G0 Z80
  RESPOND TYPE=command MSG='Waiting for Coil to cool to 40'
  M117 Waiting for Coil to cool to 40
  TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM={min_temp}
  M117 Starting Phase 2 of 4
  RESPOND TYPE=command MSG='Starting Phase 2 of 4'
  M106 S0
  G28 Z0
  G0 Z2
  M104 S{nozzle_temp}
  M140 S{bed_temp}
  G4 P1000
  CARTOGRAPHER_STREAM FILENAME=data2
  M117 Waiting for Coil to heat to 70
  RESPOND TYPE=command MSG='Waiting for Coil to heat to 70'
  TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM={max_temp}
  CARTOGRAPHER_STREAM FILENAME=data2
  M104 S0
  M140 S0
  M106 S255
  G0 Z80
  RESPOND TYPE=command MSG='Waiting for Coil to cool to 40'
  M117 Waiting for Coil to cool to 40
  TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM={min_temp}
  M117 "Starting Phase 3 of 4"
  RESPOND TYPE=command MSG='Starting Phase 3 of 4'
  M106 S0
  G28 Z0
  G0 Z3
  M104 S{nozzle_temp}
  M140 S{bed_temp}
  G4 P1000
  CARTOGRAPHER_STREAM FILENAME=data3
  M117 Waiting for Coil to heat to 70
  RESPOND TYPE=command MSG='Waiting for Coil to heat to 70'
  TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM={max_temp}
  CARTOGRAPHER_STREAM FILENAME=data3
  M104 S0
  M140 S0
  RESPOND TYPE=command MSG='Testing complete, please move files using: mv ~/klipper/data1 ~/klipper/data2 ~/klipper/data3 ~/cartographer-klipper/'
  M117 "Testing complete, please move files using: mv ~/klipper/data1 ~/klipper/data2 ~/klipper/data3 ~/cartographer-klipper/"
  RESPOND TYPE=command MSG='Follow the remaining instructions here: https://docs.cartographer3d.com/cartographer-probe/advanced-features/temperature-differential-calibration-beta'
  M117 "Follow the remaining instructions here: https://docs.cartographer3d.com/cartographer-probe/advanced-features/temperature-differential-calibration-beta"

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 60.034
#*# pid_ki = 2.471
#*# pid_kd = 364.706
#*#
#*# [scanner]
#*# mode = touch
#*# scanner_touch_threshold = 3250
#*# scanner_touch_speed = 2
#*# scanner_touch_z_offset = 0.120
#*#
#*# [scanner model default]
#*# model_coef = 1.3373006291704408,
#*# 	1.7257586114258165,
#*# 	0.7259718866909783,
#*# 	0.3440697063886608,
#*# 	0.40879636341482095,
#*# 	0.4772920223431787,
#*# 	-0.2585685670467507,
#*# 	-0.41685968367106924,
#*# 	0.3353398928659512,
#*# 	0.3214964435816183
#*# model_domain = 3.1009961826894577e-07,3.348404594926074e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 32.929787
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.1.0
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	0.021517, 0.036504, 0.037341, 0.042878, 0.041576, 0.041489, 0.050469, 0.060158, 0.061098, 0.052738, 0.040096, 0.033258, 0.027207, 0.029640, 0.033661, 0.035030, 0.031304, 0.025584, 0.017060, 0.013658, 0.013186, 0.018972, 0.029459, 0.036937, 0.039770, 0.033933, 0.031418, 0.036760, 0.040389, 0.044948
#*# 	0.021053, 0.029834, 0.033616, 0.038104, 0.036485, 0.037407, 0.045370, 0.054923, 0.054161, 0.046191, 0.038275, 0.029262, 0.023344, 0.024617, 0.032190, 0.032582, 0.030370, 0.023090, 0.014967, 0.009210, 0.009976, 0.017567, 0.029050, 0.038950, 0.039769, 0.035260, 0.032887, 0.036791, 0.041447, 0.042140
#*# 	0.016039, 0.024359, 0.027677, 0.033206, 0.031289, 0.032009, 0.040076, 0.049033, 0.049444, 0.042553, 0.031462, 0.022828, 0.017294, 0.020924, 0.025734, 0.028475, 0.027848, 0.019769, 0.010435, 0.002907, 0.005678, 0.014376, 0.027680, 0.039513, 0.042250, 0.036356, 0.032643, 0.035294, 0.039084, 0.039360
#*# 	0.012843, 0.021850, 0.025987, 0.030726, 0.028289, 0.029557, 0.038488, 0.047909, 0.048144, 0.042526, 0.032173, 0.022168, 0.016501, 0.019314, 0.022422, 0.025485, 0.025240, 0.019339, 0.007784, 0.001163, 0.002458, 0.014551, 0.029528, 0.043928, 0.045236, 0.039984, 0.036555, 0.037056, 0.038834, 0.039097
#*# 	0.011584, 0.020165, 0.020185, 0.026266, 0.026770, 0.026709, 0.036516, 0.047286, 0.049344, 0.042746, 0.031767, 0.020436, 0.016515, 0.017303, 0.018444, 0.021170, 0.020877, 0.015159, 0.006294, -0.000395, 0.001654, 0.012606, 0.028988, 0.045483, 0.048322, 0.042597, 0.036283, 0.034273, 0.038924, 0.039504
#*# 	0.003740, 0.011677, 0.014192, 0.022383, 0.021646, 0.021400, 0.032301, 0.044152, 0.047432, 0.041477, 0.029390, 0.016089, 0.010800, 0.011042, 0.015580, 0.022787, 0.017434, 0.008643, 0.001830, -0.005633, -0.004006, 0.008694, 0.027433, 0.042603, 0.045967, 0.038921, 0.032347, 0.030035, 0.032996, 0.033474
#*# 	-0.002458, 0.006322, 0.008060, 0.015071, 0.015229, 0.016110, 0.026583, 0.038160, 0.040889, 0.036808, 0.024899, 0.011408, 0.004578, 0.011049, 0.014489, 0.013447, 0.008222, 0.003112, -0.005507, -0.012059, -0.009804, 0.002589, 0.018826, 0.034024, 0.037813, 0.033042, 0.025603, 0.025019, 0.029674, 0.028955
#*# 	-0.008624, 0.000603, 0.003549, 0.011851, 0.010749, 0.013287, 0.024136, 0.034410, 0.036102, 0.031686, 0.019556, 0.005915, 0.001641, 0.003524, 0.003230, 0.004978, 0.006298, -0.000586, -0.010562, -0.016692, -0.013043, -0.000208, 0.015617, 0.028033, 0.031933, 0.025737, 0.022283, 0.023159, 0.026833, 0.026545
#*# 	-0.012250, -0.002583, -0.000305, 0.005313, 0.006228, 0.009913, 0.023682, 0.033280, 0.033288, 0.026848, 0.017299, 0.005026, -0.003096, -0.000556, 0.003415, 0.005938, 0.004326, -0.003402, -0.013249, -0.018841, -0.016971, -0.002717, 0.011257, 0.025573, 0.026133, 0.019928, 0.019137, 0.021240, 0.024966, 0.024201
#*# 	-0.015788, -0.007346, -0.002824, 0.003120, 0.005605, 0.011423, 0.024930, 0.034280, 0.032036, 0.024673, 0.013057, 0.001633, -0.005439, -0.003070, 0.001913, 0.003965, 0.001128, -0.006266, -0.017799, -0.022260, -0.020700, -0.005880, 0.010061, 0.023158, 0.024272, 0.018011, 0.016646, 0.019205, 0.023805, 0.021677
#*# 	-0.017477, -0.009048, -0.006608, -0.000969, 0.005305, 0.013263, 0.029330, 0.037718, 0.031115, 0.020800, 0.009942, -0.002031, -0.008718, -0.006802, -0.000899, 0.000493, -0.001795, -0.010179, -0.021019, -0.027431, -0.025157, -0.008746, 0.007296, 0.017845, 0.021439, 0.014649, 0.013153, 0.015156, 0.018665, 0.019093
#*# 	-0.015110, -0.008602, -0.004171, 0.004487, 0.012397, 0.020901, 0.038883, 0.045926, 0.035721, 0.022929, 0.010373, -0.000764, -0.008721, -0.007054, -0.002743, -0.000403, -0.002517, -0.012056, -0.023046, -0.029597, -0.025552, -0.010255, 0.007163, 0.017862, 0.019814, 0.013645, 0.011495, 0.015632, 0.019687, 0.019064
#*# 	-0.014756, -0.003752, -0.000781, 0.007241, 0.013225, 0.028572, 0.048100, 0.052400, 0.038634, 0.026832, 0.012305, -0.000055, -0.007783, -0.007419, -0.001511, 0.000157, -0.001426, -0.009271, -0.021068, -0.029055, -0.024492, -0.008128, 0.006814, 0.018970, 0.022682, 0.015725, 0.014313, 0.017329, 0.022415, 0.020833
#*# 	-0.012071, -0.004372, -0.000142, 0.008904, 0.016636, 0.030471, 0.046848, 0.054367, 0.041831, 0.027020, 0.013264, 0.003191, -0.003867, -0.003453, 0.002137, 0.003023, 0.001075, -0.008270, -0.018081, -0.023187, -0.019332, -0.004682, 0.008396, 0.021784, 0.025642, 0.019373, 0.016994, 0.020712, 0.025563, 0.021294
#*# 	-0.013263, -0.003260, -0.001714, 0.007167, 0.013444, 0.025784, 0.042859, 0.049014, 0.039650, 0.029800, 0.014747, 0.004137, -0.003308, -0.002514, 0.003247, 0.005666, 0.001965, -0.005099, -0.014443, -0.019817, -0.014949, -0.001933, 0.011624, 0.024076, 0.026514, 0.021565, 0.020889, 0.023570, 0.027056, 0.025033
#*# 	-0.016721, -0.008695, -0.005578, 0.002774, 0.005793, 0.013589, 0.030195, 0.040007, 0.034146, 0.023422, 0.012504, 0.002313, -0.004782, -0.003002, 0.001999, 0.002746, -0.000511, -0.008054, -0.016829, -0.021102, -0.014787, 0.000854, 0.014048, 0.025601, 0.026498, 0.020227, 0.021199, 0.025991, 0.029300, 0.025238
#*# 	-0.019708, -0.012145, -0.012775, -0.007206, -0.004174, 0.004098, 0.019610, 0.027698, 0.026164, 0.018164, 0.007533, -0.002540, -0.008066, -0.005139, -0.001930, -0.001413, -0.003193, -0.012306, -0.020153, -0.024631, -0.017114, -0.000957, 0.013887, 0.024977, 0.024960, 0.019138, 0.021634, 0.025916, 0.027702, 0.024270
#*# 	-0.025275, -0.019591, -0.016706, -0.011732, -0.010607, -0.006204, 0.009724, 0.019222, 0.016783, 0.011422, 0.001977, -0.005643, -0.010798, -0.008596, -0.003701, -0.002997, -0.006449, -0.015222, -0.025071, -0.027719, -0.019016, -0.001801, 0.014609, 0.023477, 0.021265, 0.016759, 0.020073, 0.025882, 0.027286, 0.024975
#*# 	-0.028078, -0.020896, -0.021023, -0.013604, -0.013333, -0.009591, 0.004092, 0.013937, 0.013823, 0.008731, -0.000559, -0.007767, -0.012773, -0.009696, -0.004746, -0.004415, -0.007169, -0.017582, -0.025548, -0.028352, -0.020667, -0.004962, 0.013137, 0.022931, 0.020810, 0.016280, 0.018513, 0.025484, 0.027487, 0.027063
#*# 	-0.028792, -0.023012, -0.021101, -0.012738, -0.013325, -0.010476, 0.001873, 0.012337, 0.011409, 0.007926, -0.000104, -0.006428, -0.010827, -0.008562, -0.003069, -0.002926, -0.004646, -0.013763, -0.024268, -0.025122, -0.017974, -0.004345, 0.014015, 0.023449, 0.023385, 0.020375, 0.023324, 0.026977, 0.030401, 0.029167
#*# 	-0.030340, -0.022852, -0.020690, -0.012627, -0.012862, -0.011693, 0.001632, 0.012055, 0.013213, 0.009031, 0.001179, -0.004814, -0.008529, -0.005461, -0.000726, 0.000952, -0.001188, -0.009122, -0.016910, -0.020451, -0.016655, -0.002760, 0.014378, 0.026798, 0.027378, 0.023245, 0.025443, 0.031425, 0.032753, 0.032221
#*# 	-0.027154, -0.020613, -0.017072, -0.011517, -0.012568, -0.008507, 0.002796, 0.016335, 0.016911, 0.012479, 0.006524, -0.000632, -0.005182, -0.001822, 0.002601, 0.006239, 0.004175, -0.003672, -0.013057, -0.016670, -0.010449, 0.001000, 0.019625, 0.032161, 0.033393, 0.030307, 0.031776, 0.036172, 0.040583, 0.040186
#*# 	-0.025482, -0.016628, -0.014110, -0.008454, -0.008529, -0.004902, 0.009482, 0.020918, 0.021718, 0.016600, 0.010305, 0.003350, -0.000885, 0.001402, 0.007765, 0.010693, 0.008965, 0.002796, -0.004324, -0.008957, -0.004701, 0.008123, 0.026621, 0.038083, 0.038652, 0.035763, 0.038354, 0.044775, 0.049251, 0.047213
#*# 	-0.019002, -0.011294, -0.009463, -0.004609, -0.003859, -0.000139, 0.014620, 0.026485, 0.027408, 0.021645, 0.016115, 0.009447, 0.006065, 0.008846, 0.014265, 0.018621, 0.016580, 0.010110, 0.001860, 0.001087, 0.005234, 0.018658, 0.035137, 0.044601, 0.045382, 0.043894, 0.046942, 0.053078, 0.057350, 0.054667
#*# 	-0.010921, -0.002653, -0.000501, 0.004359, 0.003599, 0.007997, 0.021739, 0.034048, 0.033802, 0.027799, 0.021933, 0.015698, 0.013128, 0.017244, 0.023190, 0.025874, 0.024005, 0.019375, 0.013854, 0.012010, 0.015567, 0.028372, 0.045044, 0.054489, 0.054093, 0.051430, 0.054192, 0.060316, 0.064483, 0.060986
#*# 	-0.004997, 0.002778, 0.005132, 0.011043, 0.011309, 0.015743, 0.026633, 0.038722, 0.040196, 0.034382, 0.027623, 0.022921, 0.020048, 0.024347, 0.029039, 0.032639, 0.031447, 0.027007, 0.020644, 0.020372, 0.023842, 0.038302, 0.051294, 0.060565, 0.061606, 0.059201, 0.060767, 0.065479, 0.068330, 0.068496
#*# 	-0.002737, 0.005765, 0.006894, 0.014219, 0.012107, 0.014812, 0.028694, 0.039892, 0.040791, 0.036691, 0.029132, 0.023139, 0.020734, 0.024737, 0.030093, 0.032285, 0.030194, 0.027025, 0.022076, 0.021231, 0.024885, 0.035809, 0.052915, 0.061038, 0.060331, 0.056569, 0.059160, 0.063343, 0.067250, 0.067216
#*# 	-0.017104, -0.014341, -0.007821, 0.011675, 0.010037, 0.013310, 0.025392, 0.035810, 0.036677, 0.032335, 0.027035, 0.021960, 0.017548, 0.021097, 0.027019, 0.030831, 0.030830, 0.025973, 0.018891, 0.016969, 0.019382, 0.032746, 0.046602, 0.056534, 0.056376, 0.051614, 0.054955, 0.057893, 0.063583, 0.062340
#*# 	-0.021424, -0.012524, -0.005628, 0.010052, 0.010642, 0.011316, 0.023821, 0.034075, 0.035487, 0.033255, 0.025847, 0.019371, 0.015947, 0.019387, 0.025148, 0.027737, 0.027961, 0.023025, 0.016204, 0.012483, 0.013620, 0.026477, 0.043955, 0.053688, 0.051608, 0.045688, 0.049362, 0.054998, 0.062902, 0.061240
#*# 	-0.014173, 0.000099, 0.005506, 0.010578, 0.011127, 0.012652, 0.024813, 0.034407, 0.037030, 0.036658, 0.029303, 0.022087, 0.019166, 0.024591, 0.030582, 0.032335, 0.030413, 0.025576, 0.015979, 0.011250, 0.014245, 0.026893, 0.042440, 0.052563, 0.052511, 0.048321, 0.049266, 0.052872, 0.060917, 0.065886
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 20.0
#*# max_x = 256.0
#*# min_y = 25.0
#*# max_y = 265.0
